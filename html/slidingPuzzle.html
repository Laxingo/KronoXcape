<!DOCTYPE html>
<html>
<head>
  <title>Sliding Puzzle</title>
  <style>
    .puzzle {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(3, 1fr);
      gap: 5px;
      width: 320px;
      height: 320px;
      margin: 0 auto;
    }

    .tile {
  display: flex;
  align-items: center;
  justify-content: center;
  border: none; /* Remove the border */
  font-size: 24px;
  cursor: pointer;
  position: relative;
}

    .tile img {
      max-width: 100%;
      max-height: 100%;
      position: absolute;
    }

    .empty {
      background-color: #ffffff;
    }

    .solved {
      background-color: lightgreen;
    }

    #win-message {
      display: none;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
      color: green;
    }
  </style>
</head>
<body>
  <h1>Sliding Puzzle</h1>
  <div class="puzzle" id="puzzle">
    <div class="tile tile-2" style="grid-row: 1; grid-column: 1;"><img src="../Images/SlidingPuzzle/row-1-column-2.png"></div>
    <div class="tile tile-5" style="grid-row: 1; grid-column: 2;"><img src="../Images/SlidingPuzzle/row-2-column-2.png"></div>
    <div class="tile tile-7" style="grid-row: 1; grid-column: 3;"><img src="../Images/SlidingPuzzle/row-3-column-1.png"></div>
    <div class="tile tile-1" style="grid-row: 2; grid-column: 1;"><img src="../Images/SlidingPuzzle/row-1-column-1.png"></div>
    <div class="tile tile-6" style="grid-row: 2; grid-column: 2;"><img src="../Images/SlidingPuzzle/row-2-column-3.png"></div>
    <div class="tile tile-4" style="grid-row: 2; grid-column: 3;"><img src="../Images/SlidingPuzzle/row-2-column-1.png"></div>
    <div class="tile tile-8" style="grid-row: 3; grid-column: 1;"><img src="../Images/SlidingPuzzle/row-3-column-2.png"></div>
    <div class="tile tile-3" style="grid-row: 3; grid-column: 2;"><img src="../Images/SlidingPuzzle/row-1-column-3.png"></div>
    <div class="tile empty tile-9" style="grid-row: 3; grid-column: 3;"></div>
  </div>
  <div id="win-message"></div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const tiles = Array.from(document.querySelectorAll('.tile'));
      const emptyTile = document.querySelector('.empty');
      const puzzle = document.getElementById('puzzle');
      const puzzleWidth = 3;
      const puzzleHeight = 3;
      let emptyTileIndex = 8;
      const winningCombination = ['tile-1', 'tile-2', 'tile-3', 'tile-4', 'tile-5', 'tile-6', 'tile-7', 'tile-8', 'empty'];
      let isSolved = false;

      // Initialize the puzzle
      function initializePuzzle() {
        tiles.forEach(function(tile, index) {
          tile.addEventListener('click', function() {
            if (!isSolved) {
              moveTile(index);
            }
          });
        });

        window.addEventListener('keydown', function(event) {
          if (!isSolved) {
            const keyCode = event.keyCode;
            if (keyCode === 37) {
              moveTile(emptyTileIndex + 1); // Move right
            } else if (keyCode === 38) {
              moveTile(emptyTileIndex + puzzleWidth); // Move down
            } else if (keyCode === 39) {
              moveTile(emptyTileIndex - 1); // Move left
            } else if (keyCode === 40) {
              moveTile(emptyTileIndex - puzzleWidth); // Move up
            }
          }
        });

        checkSolution();
      }

      // Move the tile to the empty slot
      function moveTile(tileIndex) {
        if (isAdjacent(tileIndex, emptyTileIndex)) {
          swapTiles(tileIndex, emptyTileIndex);
          emptyTileIndex = tileIndex;
          checkSolution();
        }
      }

      // Check if two tiles are adjacent
      function isAdjacent(index1, index2) {
        const row1 = Math.floor(index1 / puzzleWidth);
        const col1 = index1 % puzzleWidth;
        const row2 = Math.floor(index2 / puzzleWidth);
        const col2 = index2 % puzzleWidth;
        return (
          (Math.abs(row1 - row2) === 1 && col1 === col2) ||
          (Math.abs(col1 - col2) === 1 && row1 === row2)
        );
      }

      // Swap the positions of two tiles
      function swapTiles(index1, index2) {
        const tempClass = tiles[index1].classList.value;
        tiles[index1].classList.value = tiles[index2].classList.value;
        tiles[index2].classList.value = tempClass;

        const tempContent = tiles[index1].innerHTML;
        tiles[index1].innerHTML = tiles[index2].innerHTML;
        tiles[index2].innerHTML = tempContent;
      }

      // Check if the puzzle is solved
      function checkSolution() {
  const currentCombination = tiles.map(tile => tile.classList.contains('empty') ? 'empty' : tile.classList[1]);
  isSolved = JSON.stringify(currentCombination) === JSON.stringify(winningCombination);

  if (isSolved) {
    puzzle.classList.add('solved');
    const winMessage = document.getElementById('win-message');
    winMessage.textContent = 'YOU WON';
    winMessage.style.display = 'block';
  } else {
    puzzle.classList.remove('solved');
    const winMessage = document.getElementById('win-message');
    winMessage.style.display = 'none';
  }
}

      initializePuzzle();
    });
  </script>
</body>
</html>